import {useThrottle} from '@react-hook/throttle'
import useEvent from '@react-hook/event'

const getScrollY = () =>
  window.scrollY !== void 0
    ? window.scrollY
    : window.pageYOffset === void 0
    ? 0
    : window.pageYOffset

const win = typeof window === 'undefined' ? null : window
export const useWindowScroll = (fps = 30) => {
  const [scrollY, setThrottledScroll] = useThrottle(
    typeof window === 'undefined' ? 0 : getScrollY,
    fps,
    true
  )
  useEvent(win, 'scroll', () => setThrottledScroll(getScrollY()))
  return scrollY
}
export default useWindowScroll
